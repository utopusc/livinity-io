---
phase: v1.1-04-settings-redesign
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - livos/packages/ui/src/routes/settings/_components/shared.tsx
  - livos/packages/ui/src/routes/settings/_components/list-row.tsx
  - livos/packages/ui/src/routes/settings/_components/settings-summary.tsx
  - livos/packages/ui/src/routes/settings/_components/settings-page-layout.tsx
  - livos/packages/ui/src/routes/settings/_components/settings-content.tsx
  - livos/packages/ui/src/routes/settings/_components/settings-content-mobile.tsx
  - livos/packages/ui/src/shadcn-components/ui/tabs.tsx
autonomous: true

must_haves:
  truths:
    - "Settings sidebar menu items use semantic surface/text tokens instead of raw white/N opacity values"
    - "Active sidebar item has visually distinct state using semantic tokens (surface-3, text-primary)"
    - "User info header card uses semantic heading/text tokens"
    - "Detail view header (back button, title, description) uses semantic tokens"
    - "Mobile settings header and list container use semantic tokens"
    - "Tabs base component uses semantic tokens that match dark theme design language"
    - "Shared class constants (cardTitleClass, cardValueClass, etc.) use semantic tokens"
  artifacts:
    - path: "livos/packages/ui/src/routes/settings/_components/shared.tsx"
      provides: "Migrated shared class constants"
      contains: "text-text-tertiary"
    - path: "livos/packages/ui/src/routes/settings/_components/settings-content.tsx"
      provides: "Migrated sidebar, header card, detail view header"
      contains: "bg-surface-2"
    - path: "livos/packages/ui/src/routes/settings/_components/settings-content-mobile.tsx"
      provides: "Migrated mobile header and list container"
      contains: "bg-surface-base"
    - path: "livos/packages/ui/src/routes/settings/_components/list-row.tsx"
      provides: "Migrated desktop and mobile list row typography"
      contains: "text-body"
    - path: "livos/packages/ui/src/routes/settings/_components/settings-page-layout.tsx"
      provides: "Migrated standalone page header (back button, title)"
      contains: "border-border-default"
    - path: "livos/packages/ui/src/routes/settings/_components/settings-summary.tsx"
      provides: "Migrated summary grid labels"
      contains: "text-text-tertiary"
    - path: "livos/packages/ui/src/shadcn-components/ui/tabs.tsx"
      provides: "Redesigned base Tabs with semantic tokens"
      contains: "bg-surface-base"
  key_links:
    - from: "livos/packages/ui/src/routes/settings/_components/settings-content.tsx"
      to: "livos/packages/ui/src/routes/settings/_components/shared.tsx"
      via: "imports shared class constants"
      pattern: "import.*shared"
    - from: "livos/packages/ui/src/routes/settings/_components/settings-content.tsx"
      to: "livos/packages/ui/src/shadcn-components/ui/tabs.tsx"
      via: "imports Tabs components"
      pattern: "import.*tabs"
---

<objective>
Migrate the settings navigation shell, user info header card, shared class constants, and tabs base component to semantic design tokens.

Purpose: Establishes the visual foundation for the entire settings interface. The sidebar, header, shared classes, and tabs base are used by every settings section, so migrating these first ensures all downstream content sections inherit the correct design language.

Output: 7 files migrated from raw Tailwind values (bg-white/10, text-white/50, text-13, rounded-12, etc.) to semantic tokens (bg-surface-2, text-text-secondary, text-body-sm, rounded-radius-md, etc.).
</objective>

<execution_context>
@C:\Users\hello\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\hello\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP-v1.1.md
@.planning/STATE.md
@.planning/phases/v1.1-04-settings-redesign/04-RESEARCH.md

@livos/packages/ui/src/routes/settings/_components/shared.tsx
@livos/packages/ui/src/routes/settings/_components/list-row.tsx
@livos/packages/ui/src/routes/settings/_components/settings-summary.tsx
@livos/packages/ui/src/routes/settings/_components/settings-page-layout.tsx
@livos/packages/ui/src/routes/settings/_components/settings-content.tsx
@livos/packages/ui/src/routes/settings/_components/settings-content-mobile.tsx
@livos/packages/ui/src/shadcn-components/ui/tabs.tsx

Token reference (from Phase 1, defined in tailwind.config.ts):
- Surface: surface-base (0.05), surface-1 (0.06), surface-2 (0.10), surface-3 (0.14)
- Border: border-subtle (0.06), border-default (0.10), border-emphasis (0.20)
- Text: text-primary (0.90), text-secondary (0.60), text-tertiary (0.40)
- Typography: text-caption-sm (11px), text-caption (12px), text-body-sm (13px), text-body (14px), text-body-lg (15px), text-heading-sm (17px), text-heading (19px), text-heading-lg (24px)
- Radii: rounded-radius-sm (8px), rounded-radius-md (12px), rounded-radius-lg (16px), rounded-radius-xl (20px)
- Shadows: shadow-elevation-sm, shadow-elevation-md
- Icons: h-icon-sm/w-icon-sm (16px), h-icon-md/w-icon-md (20px)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate shared classes, list-row, settings-summary, and settings-page-layout</name>
  <files>
    livos/packages/ui/src/routes/settings/_components/shared.tsx
    livos/packages/ui/src/routes/settings/_components/list-row.tsx
    livos/packages/ui/src/routes/settings/_components/settings-summary.tsx
    livos/packages/ui/src/routes/settings/_components/settings-page-layout.tsx
  </files>
  <action>
    **shared.tsx** — Migrate all 5 exported class constants:
    - `cardTitleClass`: `text-12` -> `text-caption`, `text-white/40` -> `text-text-tertiary`
    - `cardValueClass`: `text-17` -> `text-heading-sm` (keep font-bold, -tracking-4, leading-inter-trimmed)
    - `cardValueSubClass`: `text-14` -> `text-body`, `text-white/40` -> `text-text-tertiary`
    - `cardSecondaryValueBaseClass`: `text-14` -> `text-body`, `text-white/40` -> `text-text-tertiary`
    - The inline `'mx-auto text-12 font-normal text-white/70'` -> `'mx-auto text-caption font-normal text-text-secondary'`

    **list-row.tsx** — Migrate desktop ListRow and mobile ListRowMobile:
    - Desktop title: `text-14` -> `text-body` (keep font-medium, leading-none, -tracking-2)
    - Desktop description: `text-12` -> `text-caption`, `text-white/40` -> `text-text-tertiary`
    - Mobile icon container: `rounded-6` -> `rounded-radius-sm`, `bg-white/6` -> `bg-surface-1`
    - Mobile title: `text-13` -> `text-body-sm` (keep font-medium, leading-none, -tracking-2)
    - Mobile description: `text-12` -> `text-caption`, `text-white/40` -> `text-text-tertiary`

    **settings-summary.tsx** — Migrate summary grid:
    - Grid container: `text-14` -> `text-body`
    - Labels using `opacity-40` -> replace with `text-text-tertiary` (use semantic token instead of opacity hack)

    **settings-page-layout.tsx** — Migrate standalone page header:
    - Border: `border-white/10` -> `border-border-default`
    - Back button: `rounded-12` -> `rounded-radius-md`, `bg-white/5` -> `bg-surface-base`, `text-white/70` -> `text-text-secondary`, `hover:bg-white/10` -> `hover:bg-surface-1`, `hover:text-white` -> `hover:text-text-primary`
    - Title: `text-20` -> `text-heading`
    - Description: `text-13` -> `text-body-sm`, `text-white/50` -> `text-text-secondary`
  </action>
  <verify>
    Run `npx tsc --noEmit` from livos/packages/ui/ — no new type errors introduced.
    Grep for `text-white/40` in shared.tsx — should return 0 results.
    Grep for `bg-white/` in list-row.tsx — should return 0 results.
    Grep for `opacity-40` in settings-summary.tsx — should return 0 results.
    Grep for `border-white/10` in settings-page-layout.tsx — should return 0 results.
  </verify>
  <done>
    shared.tsx uses only semantic tokens for all 5 class constants.
    list-row.tsx uses semantic tokens for both desktop and mobile variants.
    settings-summary.tsx uses text-text-tertiary instead of opacity-40.
    settings-page-layout.tsx header uses semantic border/surface/text tokens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate settings-content.tsx sidebar, header card, and detail view header + settings-content-mobile.tsx + tabs base</name>
  <files>
    livos/packages/ui/src/routes/settings/_components/settings-content.tsx
    livos/packages/ui/src/routes/settings/_components/settings-content-mobile.tsx
    livos/packages/ui/src/shadcn-components/ui/tabs.tsx
  </files>
  <action>
    **settings-content.tsx** — Migrate ONLY the navigation shell (NOT section content functions). Target these areas:

    Home view sidebar menu items (~line 161):
    - Item container: `hover:bg-white/10` -> `hover:bg-surface-2`
    - Icon container: `rounded-8` -> `rounded-radius-sm`, `bg-white/10` -> `bg-surface-2`
    - Icon: `text-white/70` -> `text-text-secondary`
    - Label: `text-13` -> `text-body-sm`
    - Description: `text-11` -> `text-caption-sm`, `text-white/40` -> `text-text-tertiary`
    - Chevron: `text-white/30` -> `text-text-tertiary`

    Detail view sidebar items (~lines 243-260):
    - Active item: `bg-white/15` -> `bg-surface-3`
    - Active icon container: `bg-white/20` -> `bg-surface-3` (when active), `bg-white/10` -> `bg-surface-2` (inactive)
    - Active icon: `text-white` (when active) -> `text-text-primary`, `text-white/70` (inactive) -> `text-text-secondary`
    - Chevron: `text-white/50` -> `text-text-secondary`
    - Item rounded: `rounded-10` -> `rounded-radius-sm`

    User info header card (~lines 181-201):
    - User name heading: `text-24` -> `text-heading-lg` (keep font-bold, leading-none, -tracking-4)
    - "Livinity" brand text: `opacity-40` -> `text-text-tertiary`

    Detail view header (~lines 270-281):
    - Border: `border-white/10` -> `border-border-default`
    - Back button: `rounded-12` -> `rounded-radius-md`, `bg-white/5` -> `bg-surface-base`, `text-white/70` -> `text-text-secondary`, `hover:bg-white/10` -> `hover:bg-surface-1`, `hover:text-white` -> `hover:text-text-primary`
    - Section title: `text-20` -> `text-heading`
    - Section description: `text-13` -> `text-body-sm`, `text-white/50` -> `text-text-secondary`

    **IMPORTANT:** Do NOT modify any of the section content functions (AccountSection, WallpaperSection, TwoFaSection, AiConfigSection, NexusConfigSection, IntegrationsSection, DomainSection, BackupsSection, MigrationSection, LanguageSection, TroubleshootSection, AdvancedSection, SoftwareUpdateSection). Those are handled in Plan 04-02 and 04-03.

    **settings-content-mobile.tsx** — Migrate mobile header and list:
    - Mobile header: `text-24` -> `text-heading-lg`
    - Mobile list container: `rounded-12` -> `rounded-radius-md`, `bg-white/5` -> `bg-surface-base`
    - Any other raw `text-white/N` or `bg-white/N` values in the navigation chrome (NOT section content)

    **tabs.tsx** — Redesign base Tabs component:
    - TabsList: Replace `'bg-muted text-muted-foreground inline-flex h-10 items-center justify-center rounded-md p-1'` with `'bg-surface-base text-text-secondary inline-flex h-10 items-center justify-center rounded-radius-sm p-1'`
    - TabsTrigger: Replace `'ring-offset-background focus-visible:ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm'` with `'data-[state=active]:bg-surface-2 data-[state=active]:text-text-primary inline-flex items-center justify-center whitespace-nowrap rounded-radius-sm px-3 py-1.5 text-body-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-3 focus-visible:ring-white/20 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-elevation-sm'`
    - TabsContent: Replace `'ring-offset-background focus-visible:ring-ring mt-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2'` with `'mt-2 focus-visible:outline-none'`

    NOTE: The only non-settings Tabs consumer is `view-toggle.tsx` in files. It fully overrides both TabsList and TabsTrigger classNames, so the base change is safe. Verify after making changes.
  </action>
  <verify>
    Run `npx tsc --noEmit` from livos/packages/ui/ — no new type errors.
    Grep for `bg-white/15` in settings-content.tsx — should return 0 results (active state migrated).
    Grep for `bg-muted` in tabs.tsx — should return 0 results (base component migrated).
    Grep for `text-muted-foreground` in tabs.tsx — should return 0 results.
    Grep for `ring-offset-background` in tabs.tsx — should return 0 results.
  </verify>
  <done>
    settings-content.tsx sidebar navigation (home view + detail view) uses semantic tokens for all surface/text/border/radius values.
    User info header card uses semantic heading and text tokens.
    Detail view header (back button, title, description) uses semantic tokens.
    settings-content-mobile.tsx mobile chrome uses semantic tokens.
    tabs.tsx base component uses semantic tokens (surface-base, surface-2, text-secondary, text-primary, radius-sm, body-sm).
    The files/view-toggle.tsx consumer is unaffected (verified by its full className overrides).
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes from livos/packages/ui/
2. Grep audit — no remaining `bg-muted`, `text-muted-foreground`, `ring-offset-background` in tabs.tsx
3. Grep audit — no remaining `bg-white/15` in settings-content.tsx (sidebar active state)
4. Grep audit — no remaining `opacity-40` in settings-summary.tsx
5. Grep audit — shared.tsx, list-row.tsx, settings-page-layout.tsx all contain semantic tokens
6. IMPORTANT: Section content functions in settings-content.tsx are UNTOUCHED (verified by spot-checking a known raw value like `rounded-12 border border-white/10 bg-white/5 p-4` still exists in section functions)
</verification>

<success_criteria>
- All 7 files contain semantic tokens for their navigation/chrome/shared elements
- No type errors introduced
- Section content (the 13 section functions in settings-content.tsx) is intentionally untouched
- Tabs base component defaults are app-appropriate (dark theme semantic tokens)
- Mobile and desktop settings navigation both migrated consistently
</success_criteria>

<output>
After completion, create `.planning/phases/v1.1-04-settings-redesign/04-01-SUMMARY.md`
</output>

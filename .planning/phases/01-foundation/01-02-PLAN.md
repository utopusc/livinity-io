---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - livos/packages/liv/node_modules/@liv/core/src/daemon.ts.bak (DELETE)
  - livos/packages/liv/packages/core/src/daemon.ts.bak (DELETE)
  - livos/packages/livcoreai/src/daemon.ts.bak (DELETE)
  - livos/packages/livinityd/node_modules/@livos/.ignored_livcoreai/src/daemon.ts.bak (DELETE)
autonomous: true

must_haves:
  truths:
    - "No .bak files exist in the repository"
    - "Repository is clean of temporary backup artifacts"
    - "Git history records the cleanup"
  artifacts: []
  key_links: []
---

<objective>
Remove all .bak backup files from the repository to clean up temporary artifacts.

Purpose: Repository hygiene before open source release. Backup files are development artifacts that shouldn't be in version control and add noise to the codebase.

Output: Clean repository with 4 .bak files removed and changes committed.
</objective>

<execution_context>
@C:\Users\hello\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\hello\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify and delete all .bak files</name>
  <files>
    livos/packages/liv/node_modules/@liv/core/src/daemon.ts.bak
    livos/packages/liv/packages/core/src/daemon.ts.bak
    livos/packages/livcoreai/src/daemon.ts.bak
    livos/packages/livinityd/node_modules/@livos/.ignored_livcoreai/src/daemon.ts.bak
  </files>
  <action>
1. First, verify the .bak files exist by listing them:
   ```bash
   find livos -name "*.bak" -type f 2>/dev/null
   ```

   Expected files from research:
   - livos/packages/liv/node_modules/@liv/core/src/daemon.ts.bak
   - livos/packages/liv/packages/core/src/daemon.ts.bak
   - livos/packages/livcoreai/src/daemon.ts.bak
   - livos/packages/livinityd/node_modules/@livos/.ignored_livcoreai/src/daemon.ts.bak

2. Delete each .bak file:
   ```bash
   rm -f livos/packages/liv/node_modules/@liv/core/src/daemon.ts.bak
   rm -f livos/packages/liv/packages/core/src/daemon.ts.bak
   rm -f livos/packages/livcoreai/src/daemon.ts.bak
   rm -f livos/packages/livinityd/node_modules/@livos/.ignored_livcoreai/src/daemon.ts.bak
   ```

3. Verify no .bak files remain:
   ```bash
   find livos -name "*.bak" -type f 2>/dev/null
   ```
   Should return empty.

4. Also check nexus directory for any .bak files:
   ```bash
   find nexus -name "*.bak" -type f 2>/dev/null
   ```
   Should return empty (research found none in nexus).

NOTE: Some of these are in node_modules directories. While node_modules shouldn't normally be in git, these appear to be checked in based on the research findings. Delete them regardless - if they're gitignored, the delete is harmless; if they're tracked, we want them gone.
  </action>
  <verify>
Run: `find . -name "*.bak" -type f 2>/dev/null | grep -v _archive`
Should return empty (no .bak files found outside _archive).
  </verify>
  <done>
All 4 .bak files are deleted and no .bak files remain in livos/ or nexus/
  </done>
</task>

<task type="auto">
  <name>Task 2: Add .bak to .gitignore</name>
  <files>
    .gitignore
  </files>
  <action>
Prevent future .bak files from being committed:

1. Check if .gitignore exists at repository root:
   ```bash
   cat .gitignore 2>/dev/null || echo "No .gitignore found"
   ```

2. If .gitignore exists, append .bak pattern if not already present:
   ```bash
   grep -q "\.bak$" .gitignore || echo "*.bak" >> .gitignore
   ```

3. If .gitignore doesn't exist, create it with common patterns:
   ```
   # Backup files
   *.bak
   *.backup
   *~

   # Dependencies
   node_modules/

   # Build outputs
   dist/
   build/

   # Environment
   .env
   .env.local
   .env.*.local

   # IDE
   .idea/
   .vscode/
   *.swp
   ```

4. Also check and update livos/.gitignore and nexus/.gitignore if they exist:
   ```bash
   grep -q "\.bak$" livos/.gitignore 2>/dev/null || echo "*.bak" >> livos/.gitignore
   grep -q "\.bak$" nexus/.gitignore 2>/dev/null || echo "*.bak" >> nexus/.gitignore
   ```

This ensures .bak files are ignored at all levels of the monorepo.
  </action>
  <verify>
Run: `grep "\.bak" .gitignore`
Should show *.bak pattern is present.
  </verify>
  <done>
.gitignore updated to prevent future .bak files from being committed
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. No .bak files exist:
   ```bash
   find . -name "*.bak" -type f 2>/dev/null | grep -v _archive | wc -l
   # Should output: 0
   ```

2. .gitignore prevents future .bak commits:
   ```bash
   grep "\.bak" .gitignore
   # Should show: *.bak
   ```

3. Verify with git:
   ```bash
   git status --porcelain | grep "\.bak"
   # Should show deletions (D) for the .bak files if they were tracked
   # OR nothing if they were already gitignored
   ```
</verification>

<success_criteria>
1. Zero .bak files exist in livos/ directory
2. Zero .bak files exist in nexus/ directory
3. .gitignore contains *.bak pattern to prevent future commits
4. Requirement AICON-08 (Delete all .bak files) is satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>

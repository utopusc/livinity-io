---
phase: v2.0-01-bug-fixes
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - livos/packages/ui/src/modules/window/window-content.tsx
autonomous: true

must_haves:
  truths:
    - "Apps that need full-height layout (ai-chat, files, terminal) render without padding/overflow wrapper"
    - "Apps that need padded layout (settings, app-store, etc.) still get the padded wrapper"
  artifacts:
    - path: "livos/packages/ui/src/modules/window/window-content.tsx"
      provides: "Per-app content handling with fullBleed support"
---

<objective>
Fix AI Chat and Files layout broken in window mode.

Root cause: window-content.tsx wraps ALL apps in overflow-auto + p-4/p-6 padding, breaking apps that manage their own scroll/layout (ai-chat, files, terminal).
Fix: Make certain apps render in "full bleed" mode (no padding, no overflow wrapper).
</objective>

<context>
@livos/packages/ui/src/modules/window/window-content.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add full-bleed mode for apps that manage their own layout</name>
  <files>livos/packages/ui/src/modules/window/window-content.tsx</files>
  <action>
Define which apps need full-bleed (no padding, no overflow):
```typescript
const FULL_BLEED_APPS = new Set([
    'LIVINITY_ai-chat',
    'LIVINITY_files',
    'LIVINITY_terminal',
    'LIVINITY_server-control',
])
```

Change the WindowContent component to conditionally apply wrappers:

From:
```typescript
export function WindowContent({route, appId}: WindowContentProps) {
    return (
        <div className={contentWrapperClass}>
            <div className={contentInnerClass}>
                <Suspense fallback={<Loading />}>
                    <WindowAppContent appId={appId} initialRoute={route} />
                </Suspense>
            </div>
        </div>
    )
}
```

To:
```typescript
export function WindowContent({route, appId}: WindowContentProps) {
    const isFullBleed = FULL_BLEED_APPS.has(appId)

    if (isFullBleed) {
        return (
            <div className='h-full'>
                <Suspense fallback={<Loading />}>
                    <WindowAppContent appId={appId} initialRoute={route} />
                </Suspense>
            </div>
        )
    }

    return (
        <div className={contentWrapperClass}>
            <div className={contentInnerClass}>
                <Suspense fallback={<Loading />}>
                    <WindowAppContent appId={appId} initialRoute={route} />
                </Suspense>
            </div>
        </div>
    )
}
```
  </action>
  <verify>
Read the file and confirm:
- FULL_BLEED_APPS set includes ai-chat, files, terminal, server-control
- Full-bleed apps get `h-full` wrapper without overflow-auto or padding
- Other apps still get contentWrapperClass + contentInnerClass
  </verify>
  <done>AI Chat, Files, Terminal, and Server Control now render in full-bleed mode in windows.</done>
</task>

</tasks>

<verification>
1. Confirm ai-chat renders without padding wrapper
2. Confirm files renders without padding wrapper
3. Confirm settings/app-store still get padded wrapper
4. Run `cd livos && pnpm build` to verify no errors
</verification>

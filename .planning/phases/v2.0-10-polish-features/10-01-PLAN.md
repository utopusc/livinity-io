---
phase: v2.0-10-polish-features
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - livos/packages/ui/src/hooks/use-keyboard-shortcuts.ts (NEW)
  - livos/packages/ui/src/modules/desktop/desktop-content.tsx
autonomous: true

must_haves:
  truths:
    - "Keyboard shortcuts system exists with Cmd+K, Cmd+/, Cmd+E, Cmd+T, Cmd+,"
    - "Shortcuts work globally across the application"
    - "Professional dampened animations replace bouncy springs"
---

<objective>
Add keyboard shortcuts system and polish animations.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Create keyboard shortcuts hook</name>
  <files>livos/packages/ui/src/hooks/use-keyboard-shortcuts.ts (NEW)</files>
  <action>
Create a global keyboard shortcuts hook:

```typescript
import {useEffect} from 'react'
import {useNavigate} from 'react-router-dom'
import {useCmdkOpen} from '@/components/cmdk'
import {useWindowManagerOptional} from '@/providers/window-manager'

export function useKeyboardShortcuts() {
    const navigate = useNavigate()
    const {setOpen} = useCmdkOpen()
    const windowManager = useWindowManagerOptional()

    useEffect(() => {
        function handleKeyDown(e: KeyboardEvent) {
            const isMod = e.metaKey || e.ctrlKey

            if (!isMod) return

            switch (e.key) {
                case 'k':
                    e.preventDefault()
                    setOpen(true)
                    break
                case '/':
                    e.preventDefault()
                    windowManager?.openWindow('LIVINITY_ai-chat', '/ai-chat', 'AI Chat', 'ðŸ¤–')
                    break
                case 'e':
                    e.preventDefault()
                    navigate('/files/Home')
                    break
                case 't':
                    e.preventDefault()
                    windowManager?.openWindow('LIVINITY_terminal', '/terminal', 'Terminal', 'ðŸ’»')
                    break
                case ',':
                    e.preventDefault()
                    navigate('/settings')
                    break
            }
        }

        window.addEventListener('keydown', handleKeyDown)
        return () => window.removeEventListener('keydown', handleKeyDown)
    }, [navigate, setOpen, windowManager])
}
```
  </action>
</task>

<task type="auto">
  <name>Task 2: Integrate keyboard shortcuts</name>
  <files>livos/packages/ui/src/layouts/desktop.tsx</files>
  <action>
Import and call useKeyboardShortcuts in the Desktop component:

```typescript
import {useKeyboardShortcuts} from '@/hooks/use-keyboard-shortcuts'
```

In DesktopPage, add:
```typescript
useKeyboardShortcuts()
```
  </action>
</task>

<task type="auto">
  <name>Task 3: Dampen animations across the app</name>
  <files>Multiple files with spring animations</files>
  <action>
Find spring animation configs in the codebase and update bouncy ones:

In dock.tsx, update the dock entrance animation (around line 85):
```typescript
transition={{type: 'spring', stiffness: 300, damping: 30, delay: 0.2}}
```

In window.tsx, update window animations:
```typescript
transition={{type: 'spring', stiffness: 400, damping: 30}}
```

In dock-item.tsx, update magnification springs to be smoother:
Look for `damping: 14` and change to `damping: 25`.

These changes make animations feel professional and snappy rather than bouncy.
  </action>
</task>

</tasks>

<verification>
1. Cmd+K opens command palette
2. Cmd+/ opens AI Chat window
3. Cmd+E navigates to files
4. Cmd+T opens terminal window
5. Cmd+, opens settings
6. Animations are smooth and dampened
7. Run `cd livos && pnpm build`
</verification>

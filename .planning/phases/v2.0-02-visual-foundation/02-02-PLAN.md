---
phase: v2.0-02-visual-foundation
plan: 02
type: execute
wave: 1
depends_on: [01]
files_modified:
  - livos/packages/ui/src/shadcn-components/ui/shared/dialog.ts
  - livos/packages/ui/src/shadcn-components/ui/sheet.tsx
  - livos/packages/ui/src/modules/desktop/dock.tsx
  - livos/packages/ui/src/modules/desktop/dock-item.tsx
  - livos/packages/ui/src/modules/window/window.tsx
  - livos/packages/ui/src/modules/window/window-chrome.tsx
  - livos/packages/ui/src/components/ui/toast.tsx
  - livos/packages/ui/src/components/ui/immersive-dialog.tsx
  - livos/packages/ui/src/shadcn-components/ui/command.tsx
  - livos/packages/ui/src/modules/desktop/install-first-app.tsx
  - livos/packages/ui/src/modules/desktop/app-icon.tsx
  - livos/packages/ui/src/modules/desktop/blur-below-dock.tsx
  - livos/packages/ui/src/index.css
autonomous: true

must_haves:
  truths:
    - "backdrop-blur removed from solid surface components (dock, dialog, sheet content, window, toast)"
    - "Dock background uses solid bg-surface-1 without backdrop-blur"
    - "Sheet content uses solid bg-[#111111] instead of transparent + blur"
    - "Dialog uses solid bg-[#1E1E1E] without backdrop-blur on content"
    - "Window body uses solid background without backdrop-blur"
---

<objective>
Remove unnecessary backdrop-blur from components that now have solid backgrounds. With solid dark surfaces (#191919, #222222), backdrop-blur is unnecessary (nothing to blur through) and hurts performance.

Keep backdrop-blur ONLY on overlays (sheet overlay, dialog overlay) where the darkening effect is still needed.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Remove backdrop-blur from dock</name>
  <files>livos/packages/ui/src/modules/desktop/dock.tsx</files>
  <action>
In the dockClass (line 305), remove `backdrop-blur-2xl contrast-more:backdrop-blur-none`:

From:
```typescript
const dockClass = tw`mx-auto flex items-end gap-3 rounded-radius-xl bg-surface-1 contrast-more:bg-neutral-700 backdrop-blur-2xl contrast-more:backdrop-blur-none px-3 shadow-dock shrink-0 will-change-transform transform-gpu border-px border-border-default`
```
To:
```typescript
const dockClass = tw`mx-auto flex items-end gap-3 rounded-radius-lg bg-surface-1 contrast-more:bg-neutral-700 px-3 shadow-dock shrink-0 will-change-transform transform-gpu border-px border-border-default`
```

Note: Also changed rounded-radius-xl to rounded-radius-lg to match simplified radius system.
  </action>
</task>

<task type="auto">
  <name>Task 2: Remove backdrop-blur from dock items</name>
  <files>livos/packages/ui/src/modules/desktop/dock-item.tsx</files>
  <action>
Find the dock item background class that has backdrop-blur and remove it. Search for `backdrop-blur` in the file and remove those classes, keeping the solid surface backgrounds.
  </action>
</task>

<task type="auto">
  <name>Task 3: Update dialog to solid background without blur</name>
  <files>livos/packages/ui/src/shadcn-components/ui/shared/dialog.ts</files>
  <action>
Read the file. Find backdrop-blur on the dialog content class and remove it. The dialog already uses bg-dialog-content (#1E1E1E) which is solid. Keep the overlay backdrop-blur (if any) since overlays still need to darken.
  </action>
</task>

<task type="auto">
  <name>Task 4: Update sheet to solid background</name>
  <files>livos/packages/ui/src/shadcn-components/ui/sheet.tsx</files>
  <action>
Read the file. For the sheet CONTENT (not overlay):
- Remove backdrop-blur classes from sheet content
- Change `backdrop-brightness-[0.38]` to a solid background approach
- The sheet content should use `bg-[#111111]` as its background instead of blurring through to wallpaper

Keep the sheet OVERLAY backdrop-blur and backdrop-brightness since overlays still need to dim the background.
  </action>
</task>

<task type="auto">
  <name>Task 5: Update window to solid background</name>
  <files>livos/packages/ui/src/modules/window/window.tsx, livos/packages/ui/src/modules/window/window-chrome.tsx</files>
  <action>
Read both files. Remove backdrop-blur from window body and chrome. Windows now have solid backgrounds. The window body should use bg-[#111111] or bg-[#191919].
  </action>
</task>

<task type="auto">
  <name>Task 6: Update other components</name>
  <files>Multiple files</files>
  <action>
Remove backdrop-blur from:
1. `toast.tsx` - toast has solid bg, blur not needed
2. `immersive-dialog.tsx` - content is solid, keep overlay blur
3. `command.tsx` - command palette content is solid
4. `install-first-app.tsx` - remove backdrop-blur
5. `app-icon.tsx` - remove backdrop-blur from icon containers
6. `blur-below-dock.tsx` - this component may no longer be needed with solid dock. If it only provides blur effect below the dock, consider simplifying it.

For each: read the file, find backdrop-blur classes on CONTENT elements (not overlays), remove them.
  </action>
</task>

<task type="auto">
  <name>Task 7: Update body background color</name>
  <files>livos/packages/ui/index.html</files>
  <action>
Change the body background from black to the new base color:

From:
```html
<body style="background: black; color: white" class="h-full min-h-full">
```
To:
```html
<body style="background: #111111; color: white" class="h-full min-h-full">
```
  </action>
</task>

</tasks>

<verification>
1. No content elements should have backdrop-blur (only overlays)
2. All solid surface components use their bg-surface-* or bg-[#hex] colors
3. Run `cd livos && pnpm build` to verify no errors
</verification>

# Plan v1.5-02-03 Summary: Settings UI + install.sh

## Status: COMPLETE

## What was built

1. **tRPC routes** (routes.ts): `getConfig` returns both Anthropic/Gemini key status + provider selection. `setConfig` accepts both keys and provider. New `validateKey` mutation tests keys with lightweight API calls (Claude messages.create max_tokens:1, Gemini models.list).

2. **Settings UI** (settings-content.tsx): AiConfigSection rebuilt with provider selection dropdown, separate Anthropic and Gemini key fields, validate-before-save flow with loading/error states. Menu description updated to "API keys & provider".

3. **install.sh**: Setup wizard prompts for Anthropic API key. Config summary shows both keys. `.env` generation uses `${CONFIG_ANTHROPIC_KEY:-}`. Post-install message mentions both providers.

## Files modified

| File | Change |
|------|--------|
| `livos/packages/livinityd/source/modules/ai/routes.ts` | Expanded getConfig/setConfig, added validateKey mutation |
| `livos/packages/ui/src/routes/settings/_components/settings-content.tsx` | Rebuilt AiConfigSection with dual keys + provider selection |
| `livos/install.sh` | Added CONFIG_ANTHROPIC_KEY, wizard prompt, summary, .env template |

## Commit

`639d1cf` â€” feat: Settings UI for dual API keys, validation, and provider selection
